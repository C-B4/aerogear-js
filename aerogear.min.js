/* Need to add license, description, etc. */(function(e,t){var n=e.aerogear={}})(this);(function(e,t){function n(e){return{}.toString.call(e)==="[object Array]"}e.pipeline=function(t){var r,i,s={};if(typeof t=="string")s[t]=e.pipeline.adapters.rest(t);else if(n(t))for(r=0;r<t.length;r++){i=t[r];typeof i=="string"?s[i]=e.pipeline.adapters.rest(i):s[i.name]=e.pipeline.adapters[i.type||"rest"](i.name,i.recordId||"id",i.settings||{})}else{if(!t)throw"aerogear.pipeline: pipe is undefined";s[t.name]=e.pipeline.adapters[t.type||"rest"](t.name,t.recordId||"id",t.settings||{})}return s};e.pipeline.adapters={}})(aerogear);(function(e,t,n){e.pipeline.adapters.rest=function(e,n,r){r=t.extend({url:e},r);return{recordId:n,type:"rest",read:function(e){var n;if(e){e.ajax&&e.ajax.data?n=e.ajax.data:e.data&&(n=e.data);n&&(e.ajax.data=n)}else e={};return t.ajax(t.extend({},r,{type:"GET"},e.ajax||{}))},save:function(e,i){i=i||{};return t.ajax(t.extend({},r,{type:e[n]?"PUT":"POST",data:e},i.ajax||{}))},"delete":function(e){var n;e=e||{};typeof e.record=="string"||typeof e.record=="number"?n={id:e.record}:n=e.record;return t.ajax(t.extend({},r,{type:"DELETE",data:n},e.ajax||{}))}}}})(aerogear,jQuery);